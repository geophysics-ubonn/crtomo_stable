

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CRTomo Test Suite &mdash; crt_test 19052014 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '19052014',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="crt_test 19052014 documentation" href="#" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="#">
          <span>crt_test 19052014 documentation</span></a></h1>
        <h2 class="heading"><span>CRTomo Test Suite</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="#">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<div class="section" id="crtomo-test-suite">
<h1>CRTomo Test Suite<a class="headerlink" href="#crtomo-test-suite" title="Permalink to this headline">¶</a></h1>
<p>Die CRTomo Test Suite ist ein Programm um die Funktionalität von CRTomo zu
testen. Die Testszenarien, die weiter unten dargestellt sind, werden jeweils
mit permutierten Konfigurationseinstellungen der <em>crtomo.cfg</em> invertiert.</p>
<div class="section" id="aufbau-des-programmes">
<h2>Aufbau des Programmes<a class="headerlink" href="#aufbau-des-programmes" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt><a href="#id1"><span class="problematic" id="id2">|</span></a>&#8212; <strong>crt_test</strong></dt>
<dd><dl class="first last docutils">
<dt><a href="#id3"><span class="problematic" id="id4">|</span></a>&#8212; bin</dt>
<dd><dl class="first last docutils">
<dt><a href="#id5"><span class="problematic" id="id6">|</span></a>&#8212; crt_test</dt>
<dd><a href="#id7"><span class="problematic" id="id8">|</span></a>&#8212; crt_test.py</dd>
</dl>
</dd>
<dt><a href="#id9"><span class="problematic" id="id10">|</span></a>&#8212;lib</dt>
<dd><a href="#id11"><span class="problematic" id="id12">|</span></a>&#8212; crt_test</dd>
<dt><a href="#id13"><span class="problematic" id="id14">|</span></a>&#8212; docs</dt>
<dd><a href="#id15"><span class="problematic" id="id16">|</span></a>&#8212; doc</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p><strong>bin/crt_test</strong> enthält ausführbare Dateien. <strong>lib/crt_test</strong> besteht aus allen nicht-ausführbaren Dateien, die die Skripte in <strong>bin/crt_test</strong> benötigen. Der Ordner <strong>docs/doc</strong> beinhaltet die Dokumentation des Programmes.</p>
</div>
<div class="section" id="funktion-des-programmes">
<h2>Funktion des Programmes<a class="headerlink" href="#funktion-des-programmes" title="Permalink to this headline">¶</a></h2>
<p>Beim Ausführen des Programmes wird ein Hauptordner <strong>Test</strong> erstellt, der aus einer Vielzahl an Unterordnern besteht. Diese Unterordner werden automatisch generiert und richten sich nach den Hauptthemen, die untersucht werden sollen. Jeder Unterordner besteht entweder aus einer weiteren Ebene oder aus mehreren automatisch generierten Tomodir-Ordnern (Ordner die eine invertierbare Struktur aufweisen). Diese Ordnerstrukturen werden mithilfe des Skripts <em>init_sim.sh</em>. Man merkt, dass die Größe des Ordners <strong>Test</strong> gewaltig werden kann.
Nach der Generierung der Ordnerstrukur und der beinhalteten Dateien wird jeder Tomodir-Ordner invertiert und getestet.</p>
</div>
<div class="section" id="ziele">
<h2>Ziele<a class="headerlink" href="#ziele" title="Permalink to this headline">¶</a></h2>
<p>Im ersten Schritt soll nur das Durchlaufen von CRTomo bei verschiedenen
Ausgangsbedingungen getestet werden. Hierdurch sollen Schwachstellen in der
Kombination der Parameter ersichtlich werden.
Das Programm sollte so verständlich sein, sodass auch ein Laie verstehen würde wie sich CRTomo mit verschiedenen Parameter-Einstellungen verhält.</p>
<p>crtomo.cfg Beispieldatei:</p>
<div class="highlight-python"><pre>*****
../grid/elem.dat
../grid/elec.dat
../mod/volt.dat
../inv
F



***PARAMETERS***
   0             ! # cells in x-direction
   0             ! # cells in z-direction
 1.0000          ! smoothing parameter in x-direction
 1.0000          ! smoothing parameter in z-direction
50               ! max. # inversion iterations
F                ! DC inversion ?
F                ! robust inversion ?
F                ! final phase improvement ?
10                ! rel. resistance error level (%)  (parameter A1 in err(R) = A1*abs(R) + A2)
0           ! min. abs. resistance error (ohm) (parameter A2 in err(R) = A1*abs(R) + A2)
0               ! phase error model parameter A1 (mrad/ohm^B) (in err(pha) = A1*abs(R)**B + A2*abs(pha) + A3)
0               ! phase error model parameter B  (-)          (in err(pha) = A1*abs(R)**B + A2*abs(pha) + A3)
0              ! phase error model parameter A2 (%)          (in err(pha) = A1*abs(R)**B + A2*abs(pha) + A3)
.1               ! phase error model parameter A3 (mrad)       (in err(pha) = A1*abs(R)**B + A2*abs(pha) + A3)
T                ! homogeneous background resistivity ?
 1.00          ! background magnitude (ohm*m)
  -1.000          ! background phase (mrad)
F                ! another dataset ?
1                ! 2D (=0) or 2.5D (=1)
F               ! fictitious sink ?
280             ! fictitious sink node number
F                ! boundary values ?
boundary.dat</pre>
</div>
</div>
</div>
<div class="section" id="testszenarien">
<h1>Testszenarien<a class="headerlink" href="#testszenarien" title="Permalink to this headline">¶</a></h1>
<div class="section" id="regulare-vs-irregulare-gitter">
<h2>Reguläre vs. Irreguläre Gitter<a class="headerlink" href="#regulare-vs-irregulare-gitter" title="Permalink to this headline">¶</a></h2>
<p>Durch diesen Test wird gewährleistet, dass CRTomo sowohl reguläre (rechteckige Zellen) als auch irreguläre Gitter (z.B. dreickige Zellen) problemlos invertieren kann. Könnte gut als erste Ebene in den Ordner <strong>Test</strong> passen:</p>
<blockquote>
<div><dl class="docutils">
<dt><a href="#id17"><span class="problematic" id="id18">|</span></a>&#8212; <strong>Test</strong></dt>
<dd><p class="first"><a href="#id19"><span class="problematic" id="id20">|</span></a>&#8212; regulär</p>
<p class="last"><a href="#id21"><span class="problematic" id="id22">|</span></a>&#8212; irregulär</p>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="test-des-fehlermodells-magnitude">
<h2>Test des Fehlermodells (Magnitude)<a class="headerlink" href="#test-des-fehlermodells-magnitude" title="Permalink to this headline">¶</a></h2>
<p>Hierbei werden verschiedene relative und absolute Fehler miteinander kombiniert und invertiert. Der Magnitudenfehler wird folgendermaßen berechnet:</p>
<blockquote>
<div><div class="math">
<p><img src="_images/math/eade778f52b2df54707274815b2030b0d8e71fc0.png" alt="\Delta R = A \cdot abs(R) + B,"/></p>
</div></div></blockquote>
<p>wobei <img class="math" src="_images/math/019e9892786e493964e145e7c5cf7b700314e53b.png" alt="A"/> den relativen Fehler in % und <img class="math" src="_images/math/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" alt="B"/> den absoluten Fehler in <img class="math" src="_images/math/9e2b196e9b7e57d1ec99f6534c581ea9759d2170.png" alt="\Omega"/> darstellt. Ein kleiner Fehler in <img class="math" src="_images/math/ff5fb3d775862e2123b007eb4373ff6cc1a34d4e.png" alt="B"/> stabilisiert das Ergebnis. Gute Kombination von <img class="math" src="_images/math/3b949109c5d7b0ce70c280f17cfc63036d7ccc96.png" alt="\Delta R"/> resultieren aus <img class="math" src="_images/math/0bdb36b2608e1745bf183a25ac27452ccac28fce.png" alt="A = (3\%, 5\%, 10\%)"/> und <img class="math" src="_images/math/d66553bbd0a86fb339221abed138c68b0db56df6.png" alt="B = (0.1\Omega, 0.01\Omega, 0.001\Omega)"/>.</p>
</div>
<div class="section" id="test-des-fehlermodells-phase">
<h2>Test des Fehlermodells (Phase)<a class="headerlink" href="#test-des-fehlermodells-phase" title="Permalink to this headline">¶</a></h2>
<p>Hierbei werden verschiedene Fehler mit einander kombiniert und invertiert. Der Phasenfehler wird nach Flores (2010) folgendermaßen berechnet:</p>
<blockquote>
<div><div class="math">
<p><img src="_images/math/be1a27c1bd23625aebe5bc21ca1c157f164379f5.png" alt="\Delta \phi = A1 \cdot abs(R)^{B1} + A2 \cdot abs(pha) + p0,"/></p>
</div></div></blockquote>
<p>wobei <img class="math" src="_images/math/161f7db3d67d017e5f0d673e01562b5debf9fd0a.png" alt="A1"/> den relativen Magnitudenfehler, <img class="math" src="_images/math/c77352b3a165195d107c5655becdaae61baec7b2.png" alt="B1"/> einen beliebigen Exponenten, <img class="math" src="_images/math/240266ec1d330d8144ad45734b02bdbab709c019.png" alt="A2"/> den relativen Phasenfehler und <img class="math" src="_images/math/7511621a19a294f5ffd5fb865b70f1fdc0125d29.png" alt="p0"/> den absoluten Phasenfehler darstellt</p>
<p>TODO</p>
</div>
<div class="section" id="vergleiche-fehlermodell-mit-individuellem-fehlermodell">
<h2>Vergleiche Fehlermodell mit individuellem Fehlermodell<a class="headerlink" href="#vergleiche-fehlermodell-mit-individuellem-fehlermodell" title="Permalink to this headline">¶</a></h2>
<p>Es ist möglich ein indiviuelles Fehlermodell über die Datei <strong>crt.noisemod</strong> zu erzeugen. Der Vergleich beider Fehlermodelle jeweils für Magnitude und Phase zeigt, ob es sich lohnt ein individuelles Fehlermodell zu generieren.</p>
<p>crt.noisemod Beispieldatei:</p>
<div class="highlight-python"><pre>     1       # Ensemble seed
 30.0        # Relative error resistance A (noise) [%] von dR=AR+B
0.100E-03    # Absolute error resistance B (noise) [Ohm m]
 0.00        # Phase error parameter A1 (noise) [mRad/Ohm/m] von dp=A1*R^B1+A2*p+p0
 0.00        # Phase error parameter B1 (noise) []
 0.00        # Relative phase error A2 (noise) [%]
0.500        # Absolute phase error p0 (noise) [mRad]</pre>
</div>
</div>
<div class="section" id="modellvergleich">
<h2>Modellvergleich<a class="headerlink" href="#modellvergleich" title="Permalink to this headline">¶</a></h2>
<p>Es werden verschiedene Modelle erzeugt und getestet. Es soll bestimmt werden, wie die Inversion auf zwei Modelle mit derselben Struktur aber mit inversen Widerständen/Phasen reagiert.</p>
</div>
<div class="section" id="randbedingungen">
<h2>Randbedingungen<a class="headerlink" href="#randbedingungen" title="Permalink to this headline">¶</a></h2>
<p>Es könnten verschiedene Randbedingungen, wie Gemischte- und Neumann-Randbedingungen getestet werden.</p>
</div>
<div class="section" id="normale-optimistische-pessimistische-inversion">
<h2>Normale/ optimistische/ pessimistische Inversion<a class="headerlink" href="#normale-optimistische-pessimistische-inversion" title="Permalink to this headline">¶</a></h2>
<p>Zur Vereinfachung können direkt diese drei Standard-Schemata invertiert werden:</p>
<ul>
<li><p class="first">normal:</p>
<div class="highlight-python"><pre>* 5 % Magnitude error + 1e-4 Ohm
* 2 mrad phase error
* robust inversion
* no homogeneous starting model for FPI</pre>
</div>
</li>
<li><p class="first">optimistisch:</p>
<div class="highlight-python"><pre>* 5 % Magnitude error + 1e-4 Ohm
* 1 mrad phase error
* non-robust inversion
* no homogeneous starting model for FPI</pre>
</div>
</li>
<li><p class="first">pessimistisch:</p>
<div class="highlight-python"><pre>* 10 % Magnitude error + 1e-4 Ohm
* 4 mrad phase error
* robust inversion
* no homogeneous starting model for FPI</pre>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="module">
<h1>Module<a class="headerlink" href="#module" title="Permalink to this headline">¶</a></h1>
<p>Nachfolgend werden alle benutzen Module des Ordners <strong>crt_test</strong> aufgelistet und beschrieben.</p>
<div class="section" id="lib">
<h2>lib<a class="headerlink" href="#lib" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="testkriterien">
<h1>Testkriterien<a class="headerlink" href="#testkriterien" title="Permalink to this headline">¶</a></h1>
<div class="section" id="lauft-die-inversion-durch">
<h2>Läuft die Inversion durch?<a class="headerlink" href="#lauft-die-inversion-durch" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>error.dat vorhanden? (Vor Inversion löschen!)</li>
<li>inv.ctr letzte Zeile &#8216;Finished&#8217;?</li>
</ul>
</div>
<div class="section" id="qualitatstest">
<h2>Qualitätstest<a class="headerlink" href="#qualitatstest" title="Permalink to this headline">¶</a></h2>
<p>TODO Nur RMS Test? Vielleicht auch MRMS?</p>
</div>
<div class="section" id="plotbarkeit">
<h2>Plotbarkeit<a class="headerlink" href="#plotbarkeit" title="Permalink to this headline">¶</a></h2>
<p>Ist Tomodir-Ordner plotbar? Probleme?</p>
<ul class="simple">
<li>plot_td.py ausführbar?</li>
</ul>
</div>
<div class="section" id="dauer">
<h2>Dauer<a class="headerlink" href="#dauer" title="Permalink to this headline">¶</a></h2>
<p>Wie lange hat die Inversion gedauert?</p>
<ul class="simple">
<li>Gibt&#8217;s da eine Datei für?</li>
</ul>
</div>
<div class="section" id="anzahl-an-iterationen">
<h2>Anzahl an Iterationen<a class="headerlink" href="#anzahl-an-iterationen" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>inv.ctr</li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="#">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2014, JF.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>